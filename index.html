<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Made by Jamie Boulton (xovae) - 2025-2026 -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>WRAMP Sim</title>

        <!-- Script to allow GitHub pages to handle Single Page Apps - made by https://github.com/rafgraph/spa-github-pages -->
        <script type="text/javascript">
            // Single Page Apps for GitHub Pages
            // MIT License
            // https://github.com/rafgraph/spa-github-pages
            // This script checks to see if a redirect is present in the query string,
            // converts it back into the correct url and adds it to the
            // browser's history using window.history.replaceState(...),
            // which won't cause the browser to attempt to load the new url.
            // When the single page app is loaded further down in this file,
            // the correct url will be waiting in the browser's history for
            // the single page app to route accordingly.
            (function(l) {
                if (l.search[1] === '/' ) {
                var decoded = l.search.slice(1).split('&').map(function(s) {
                    return s.replace(/~and~/g, '&')
                }).join('?');
                window.history.replaceState(null, null,
                    l.pathname.slice(0, -1) + decoded + l.hash
                );
                }
            }(window.location))
        </script>

        <!-- Load theme info before anything else -->
        <script>
            (function () {
                const themeType = localStorage.getItem('theme');
                document.documentElement.setAttribute('data-bs-theme', themeType);
            })();
        </script>

        <link href="_framework/dotnet.p78mb2t20h.js" rel="preload" as="script" fetchpriority="high" crossorigin="anonymous" integrity="sha256-FVZk8KIf1iIKc7V2CE+4HOEwQ4g6goFFdbhiQNZMGjM=" />
        <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="css/app.css" />
        <link rel="icon" type="image/x-icon" href="img/favicon.ico" />
        <link href="BlazorApp.styles.css" rel="stylesheet" />
        <script type="importmap">{
  "imports": {
    "./_framework/blazor.webassembly.js": "./_framework/blazor.webassembly.66stpp682q.js",
    "./_framework/dotnet.native.js": "./_framework/dotnet.native.xanz2e7ksm.js",
    "./_framework/dotnet.js": "./_framework/dotnet.p78mb2t20h.js",
    "./_framework/dotnet.runtime.js": "./_framework/dotnet.runtime.o0qy896u8v.js"
  },
  "scopes": {},
  "integrity": {
    "./_framework/blazor.webassembly.66stpp682q.js": "sha256-3lCWrko3zwspV40aQhs2S/IMkRSarnHRKIdkHhuXIBA=",
    "./_framework/blazor.webassembly.js": "sha256-3lCWrko3zwspV40aQhs2S/IMkRSarnHRKIdkHhuXIBA=",
    "./_framework/dotnet.js": "sha256-FVZk8KIf1iIKc7V2CE+4HOEwQ4g6goFFdbhiQNZMGjM=",
    "./_framework/dotnet.native.js": "sha256-uQpMf2vCY3ZTY+nV2gmp8VdAe67PW6h1gInkE7r/PLY=",
    "./_framework/dotnet.native.xanz2e7ksm.js": "sha256-uQpMf2vCY3ZTY+nV2gmp8VdAe67PW6h1gInkE7r/PLY=",
    "./_framework/dotnet.p78mb2t20h.js": "sha256-FVZk8KIf1iIKc7V2CE+4HOEwQ4g6goFFdbhiQNZMGjM=",
    "./_framework/dotnet.runtime.js": "sha256-yJvgPPUUvavYVmu9VD/fYtMcoEnLVaB0Cr7JAE29btw=",
    "./_framework/dotnet.runtime.o0qy896u8v.js": "sha256-yJvgPPUUvavYVmu9VD/fYtMcoEnLVaB0Cr7JAE29btw="
  }
}</script>
    </head>

    <body>
        <div id="app">
            <svg class="loading-progress">
                <circle r="40%" cx="50%" cy="50%" />
                <circle r="40%" cx="50%" cy="50%" />
            </svg>
            <div class="loading-progress-text"></div>
        </div>

        <div id="blazor-error-ui">
            An unhandled error has occurred.
            <a href="." class="reload">Reload</a>
            <span class="dismiss">ðŸ—™</span>
        </div>
        <script src="_framework/blazor.webassembly.66stpp682q.js"></script>
        <script src="lib/bootstrap/dist/js/popper.min.js"></script>
        <script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>

        <!-- Blockly Resources -->
        <script src="https://unpkg.com/blockly/blockly.min.js"></script>
        <script src="blocklyResources/wrampGenerator.js" type="module"></script>
        <script src="blocklyResources/blockly.js"></script>

        <!-- Custom JS -->
        <script src="wrampToolchain/toolchainWrapper.js" type="module"></script>
        <script src="js/app.js"></script>
        <script src="js/wrampComponents.js"></script>

        <!-- Audio Resources -->
        <audio src="audio/duckQuack.wav" id="duckQuack"></audio>
        <audio src="audio/kcauQkcud.mp3" id="kcauQkcud"></audio>

        <!-- Credits Modal -->
        <div class="modal fade" id="creditsModal" tabindex="-1" aria-labelledby="creditsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="creditsModalLabel">Project Credits</h1>
                        <img class="logo ms-2" onclick="evilquacker()" src="img/reginald.png" alt="Photo of a duck head">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <ul>
                            <li><p>WRAMP Simulator made by Jamie Boulton (<a href="https://github.com/xovae/COMPX230-Interactive">https://github.com/xovae/COMPX230-Interactive</a>) for a 2nd year Software Engineering work placement</p></li>
                            <li><p>WRAMP logic adapted from <a href="https://github.com/wandwramp/wsim">https://github.com/wandwramp/wsim</a></p></li>
                            <li><p>WRAMP toolchain (wasm and wlink) adapted from <a href="https://github.com/wandwramp/toolchain">https://github.com/wandwramp/toolchain</a></p></li>
                            <li><a href="https://g.co/dev/blockly"><img class="w-25" src="img/blocklyLogo.png" alt="A puzzle piece with the text 'Built with Blockly' alongside it"></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Delete level progress Modal -->
        <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="deleteModalLabel">What levels do you want to clear progress for?</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="deleteModalBody">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-info" onclick="selectAllLevels()">Select All</button>
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" onclick="deleteLevelProgress()">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
